/*
 Apache
 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var $jscomp={scope:{},getGlobal:function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return"jscomp_symbol_"+c+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();if(c[$jscomp.global.Symbol.iterator])return c[$jscomp.global.Symbol.iterator]();if(!(c instanceof Array||"string"==typeof c||c instanceof String))throw new TypeError(c+" is not iterable");var e=0;return{next:function(){return e==c.length?{done:!0}:{done:!1,value:c[e++]}}}};$jscomp.arrayFromIterator=function(c){for(var e,b=[];!(e=c.next()).done;)b.push(e.value);return b};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.arrayFromArguments=function(c){for(var e=[],b=0;b<c.length;b++)e.push(c[b]);return e};
$jscomp.inherits=function(c,e){function b(){}b.prototype=e.prototype;c.prototype=new b;c.prototype.constructor=c;for(var a in e)if($jscomp.global.Object.defineProperties){var f=$jscomp.global.Object.getOwnPropertyDescriptor(e,a);void 0!==f&&$jscomp.global.Object.defineProperty(c,a,f)}else c[a]=e[a]};var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var angularDfp=angular.module("angularDfp",[]);
(function(c){c.factory("httpError",["$log",function(c){function b(a,b){c.error("Error ("+a.status+")")}b.isErrorCode=function(a){if("number"===typeof a)return!(200<=a&&300>a);console.assert("string"===typeof a);return"2"!==a[0]};return b}])})(angularDfp);
(function(c){var e=function(b){Error.call(this,"Invalid interval: '"+b+"'ls")};$jscomp.inherits(e,Error);e.captureStackTrace=Error.captureStackTrace;c.factory("parseDuration",function(){return function(b){if("number"===typeof b)return b;if("string"!==typeof b)throw new TypeError("'"+b+"' must be of number or string type");var a=b.match(/(\d+)(m?s|min|h)?/);if(!a)throw new e(b);b=parseInt(a[1],10);2===a.length?a=b:(a=a[2],console.assert(/^(m?s|min|h)$/g.test(a)),a="ms"===a?b:"s"===a?1E3*b:"min"===
a?6E4*b:36E5*b);return a}})})(angularDfp);
(function(c){function e(b,a,f,c){f=angular.element(f);return function(e,d,g){function r(){return e.find("div iframe")}function u(a){a=a||r();a.css("width",a.attr("width")+"px");a.css("height",a.attr("height")+"px")}function h(){a(function(){e.removeClass("hidden")},1E3)}function p(a){var b=r();["width","height"].some(function(d){return b.attr(d)!==a[d]})&&u(b)}function v(d){var f=b(function(){return p(d)},100);a(function(){return b.cancel(f)},2500)}function x(){var a=r(),a=[a.css("width"),a.css("height")].map(function(a){return a?
a.slice(0,-2):null});return{width:a[0],height:a[1]}}function w(){v(x());f.on("resize",function(){u()});h()}g=g||[320,780,1480];console.assert(Array.isArray(g));f.on("resize",function(a){function b(f){console.assert(0<=d&&d<g.length);console.assert(-1===f||1===f);d+=f;e.addClass("hidden");c(a).then(function(){w(d)});console.assert(0<=d&&d<g.length)}var d=function(){for(var a=f.innerWidth,b=g.length-1,d=0;d<b;++d)if(a<g[d+1])return d;return b}();w();return function(){d+1>=g.length||f.innerWidth<g[d+
1]?0>d-1||f.innerWidth>=g[d]||b(-1):b(1)}}(e))}}e.$inject=["$interval","$timeout","$window","dfpRefresh"];c.factory("responsiveResize",e)})(angularDfp);
(function(c){c.factory("scriptInjector",["$q","httpError",function(c,b){function a(a,l){function k(){g.resolve()}function d(a){a=a||{status:400};b(a,'loading script "{0}".',l);g.reject(a)}var g=c.defer();a.onreadystatechange=function(){4===this.readyState&&(b.isErrorCode(this.status)?d(this):k())};a.onload=k;a.onerror=d;return g.promise}return function(b){var c=document.createElement("script"),e="https:"===document.location.protocol;c.async="async";c.type="text/javascript";c.src=(e?"https:":"http:")+
b;(document.head||document.querySelector("head")).appendChild(c);return a(c)}}])})(angularDfp);googletag=googletag||{};googletag.cmd=googletag.cmd||[];
(function(c){function e(){var a=[],b=[],c=[],e=[],d=[];this.isValid=function(){return 0!==a.length&&this.adUnit?!0:!1};this.getState=function(){console.assert(this.isValid());return Object.freeze({sizes:a,responsiveMapping:b,targetings:c,exclusions:e,adUnit:this.adUnit,forceSafeFrame:this.forceSafeFrame,safeFrameConfig:this.safeFrameConfig,clickUrl:this.clickUrl,refresh:this.refresh,scripts:d,collapseIfEmpty:this.collapseIfEmpty})};this.addSize=function(b){a.push(b)};this.addResponsiveMapping=function(a){b.push(a)};
this.addTargeting=function(a){c.push(a)};this.addExclusion=function(a){e.push(a)};this.addScript=function(a){d.push(a)}}function b(a,b,c,e,d){function g(a){if(0!==h.responsiveMapping.length){var b=googletag.sizeMapping();h.responsiveMapping.forEach(function(a){b.addSize(a.browserSize,a.adSizes)});a.defineSizeMapping(b.build())}}a=d.get("dfp");c=d.get("dfpIDGenerator");var r=d.get("dfpRefresh"),u=d.get("responsiveResize"),h=e.getState(),p=b;b=b[0];c(b);a.then(function(){var a=googletag.defineSlot(h.adUnit,
h.sizes,b.id);void 0!==h.forceSafeFrame&&a.setForceSafeFrame(!0);h.clickUrl&&a.setClickUrl(h.clickUrl);void 0!==h.collapseIfEmpty&&a.setCollapseEmptyDiv(!0,!0);void 0!==h.safeFrameConfig&&a.setSafeFrameConfig(JSON.parse(h.safeFrameConfig));g(a);h.targetings.forEach(function(b){a.setTargeting(b.key,b.values)});h.exclusions.forEach(function(b){a.setCategoryExclusion(b)});h.scripts.forEach(function(b){b(a)});a.addService(googletag.pubads());googletag.display(b.id);r(a,h.refresh).then(function(){0<h.responsiveMapping.length&&
u(p)})})}c.directive("dfpAd",["$injector",function(a){return{restrict:"AE",controller:e,controllerAs:"controller",bindToController:!0,link:function(c){for(var e=[],k=0;k<arguments.length;++k)e[k-0]=arguments[k];b.apply(null,e.slice(0,4).concat(a))},scope:{adUnit:"@",clickUrl:"@",forceSafeFrame:"@",safeFrameConfig:"@",refresh:"@",collapseIfEmpty:"@"}}}])})(angularDfp);
(function(c){function e(b,a,c){c=1E13*String(Math.random());var e="";b.adUnit&&(e="dc_iu="+b.adUnit);var k="";b.ppid&&(k="ppid="+b.ppid);var d=document.createElement("img");d.src="https://pubads.g.doubleclick.net/activity;ord=";d.src+=c+";dc_seg="+b.segmentId+";"+e+k;d.width=1;d.height=1;d.border=0;d.style.visibility="hidden";a.append(d)}c.directive("dfpAudiencePixel",[function(){return{restrict:"E",scope:{adUnit:"@",segmentId:"@",ppid:"@"},link:e}}])})(angularDfp);
(function(c){function e(b,a,c,e){e.addExclusion(a.html())}c.directive("dfpExclusion",[function(){return{restrict:"E",require:"^^dfpAd",link:e}}])})(angularDfp);(function(c){c.factory("dfpIDGenerator",[function(){function c(a){if(a&&a.id&&!(a.id in b))return a.id;var e=null;do e="gpt-ad-"+Math.random().toString().slice(2);while(e in b);b[e]=!0;a&&(a.id=e);return e}var b={};c.isTaken=function(a){return a in b};c.isUnique=function(a){return!c.isTaken(a)};return c}])})(angularDfp);
googletag=googletag||{};googletag.cmd=googletag.cmd||[];
(function(c){var e=function(b){Error.apply(this,arguments)};$jscomp.inherits(e,Error);e.captureStackTrace=Error.captureStackTrace;c.provider("dfpRefresh",[function(){var b=this;b.bufferInterval=1E3;b.bufferBarrier=null;b.oneShotBarrier=!0;b.refreshInterval=36E5;b.priority={REFRESH:1,INTERVAL:1,BARRIER:1};b.$get=["$rootScope","$interval","$q","parseDuration",function(a,c,l,k){function d(a,b,d){var c=l.defer();a={slot:a,deferred:c};b&&B(a,b);b&&d||z(a);return c.promise}function g(a){if(!(a in m))throw new e("Invalid option '"+
a+"'");}function r(a){if("number"!==typeof a)throw new e("Priority '"+a+"' is not a number");}function u(a,b){if(!1===b)h(a);else switch(a){case m.REFRESH:x();break;case m.INTERVAL:A();break;case m.BARRIER:console.assert(d.hasBufferBarrier());n.barrier=!0;break;default:console.assert(!1)}}function h(a){switch(a){case m.REFRESH:w();break;case m.INTERVAL:y();break;case m.BARRIER:n.barrier=!1;break;default:console.assert(!1)}}function p(){for(var a=Object.keys(m).filter(d.has),c=a.map(function(a){return b.priority[a]}),
e=c.reduce(function(a,b){return Math.max(a,b)}),f=0;f<a.length;++f)c[f]===e?u(a[f]):h(a[f])}function v(a){console.assert(void 0===a||null!==a);void 0===a?googletag.pubads().refresh():0!==a.length&&(a=a.filter(function(a){return null!==a.slot}),googletag.cmd.push(function(){googletag.pubads().refresh(a.map(function(a){return a.slot}));a.forEach(function(a){return a.deferred.resolve()})}))}function x(){console.assert(d.hasRefreshInterval());var a=c(function(){t.fill(null);v()},b.refreshInterval);q.refresh=
a;n.refresh=!0}function w(){n.refresh&&(c.cancel(q.refresh),q.refresh=null,n.refresh=!1)}function A(){console.assert(d.hasBufferInterval());var a=c(function(){v(t);t.fill(null)},b.bufferInterval);q.buffer=a;n.interval=!0}function y(){n.interval&&(c.cancel(q.buffer),q.buffer=null,n.interval=!1)}function B(a,b){b=k(b);var d=c(function(){z(a)},b);q[a.slot]=d}function z(a){d.isBuffering()?(t.push(a),n[m.BARRIER]&&t.length===b.bufferBarrier&&(v(t),t=[],b.oneShotBarrier&&d.clearBufferBarrier())):v([a])}
var m=Object.freeze({REFRESH:"REFRESH",INTERVAL:"INTERVAL",BARRIER:"BARRIER"});d.Options=m;var t=[],q={refresh:null,buffer:null},n=Object.seal({refresh:null!==b.refreshInterval,interval:null!==b.bufferInterval,barrier:null!==b.bufferBarrier});d.cancelInterval=function(a){if(!d.hasSlotInterval(a))throw new e("No interval for given slot");c.cancel(q[a]);delete q[a];return d};d.hasSlotInterval=function(a){return a in b.intervals};d.setBufferInterval=function(a){b.bufferInterval=k(a);p();return d};d.clearBufferInterval=
function(){if(!d.hasBufferInterval())return console.warn("clearBufferInterval had no effect because no interval was set."),d;y();b.bufferInterval=null;p();return d};d.hasBufferInterval=function(){return null!==b.bufferInterval};d.bufferIntervalIsEnabled=function(){return n.interval};d.getBufferInterval=function(){return b.bufferInterval};d.setBufferBarrier=function(a,c){b.bufferBarrier=a;b.oneShotBarrier=void 0===c?!0:c;p();return d};d.clearBufferBarrier=function(){if(!d.hasBufferBarrier())return console.warn("clearBufferBarrier had not effect because no barrier was set."),
d;b.bufferBarrier=null;p();return d};d.getBufferBarrier=function(){return b.bufferBarrier};d.hasBufferBarrier=function(){return null!==b.bufferBarrier};d.bufferBarrierIsEnabled=function(){return n.barrier};d.bufferBarrierIsOneShot=function(){return b.oneShotBarrier};d.setRefreshInterval=function(a){b.refreshInterval=k(a);x();p();return d};d.hasRefreshInterval=function(){return null!==b.refreshInterval};d.refreshIntervalIsEnabled=function(){return n.refresh};d.clearRefreshInterval=function(){d.hasRefreshInterval()||
console.warn("clearRefreshInterval had no effect because no refresh interval was set.");w();p();return d};d.getRefreshInterval=function(){return b.refreshInterval};d.isBuffering=function(){return[m.BARRIER,m.INTERVAL].some(d.isEnabled)};d.has=function(a){switch(a){case m.REFRESH:return d.hasRefreshInterval();case m.INTERVAL:return d.hasBufferInterval();case m.BARRIER:return d.hasBufferBarrier();default:throw new e("Invalid option '"+a+"'");}};d.isEnabled=function(a){g(a);return n[a]};d.setPriority=
function(a,c){g(a);r(c);b.priority[a]=c;return d};d.getPriority=function(a){g(a);return b.priority[a]};d.setRefreshPriority=function(a){d.setPriority("refresh")};d.getRefreshPriority=function(){return d.getPriority("refresh")};d.setBarrierPriority=function(a){d.setPriority("barrier")};d.getBarrierPriority=function(){return d.getPriority("barrier")};d.setIntervalPriority=function(a){r(a);d.setPriority("interval")};d.getIntervalPriority=function(){return d.getPriority("interval")};a.$on("$destroy",
function(){q.forEach(function(a){c.cancel(a)})});p();return d}]}])})(angularDfp);
(function(c){function e(){function a(){return b.some(function(a){return"number"!==typeof a})?!1:0<c.length}var b=Object.seal([this.browserWidth,this.browserHeight||0]),c=[];this.addSize=function(a){c.push(a)};this.getState=function(){console.assert(a());return Object.freeze({browserSize:b,adSizes:c})}}function b(a,b,c,e){a=a.controller.getState();e.addResponsiveMapping(a)}c.directive("dfpResponsive",[function(){return{restrict:"E",require:"^^dfpAd",controller:e,controllerAs:"controller",bindToController:!0,
link:b,scope:{browserWidth:"=",browserHeight:"="}}}])})(angularDfp);(function(c){function e(b,a,c,e,k){a=k.get("dfpFormat")("(function(scope, {0}) { {1} })",b.slotAs||"slot",a.html().trim());e.addScript(eval(a).bind(null,b.scope))}c.directive("dfpScript",["$injector",function(b){return{restrict:"E",require:"^^dfpAd",scope:{slotAs:"@",scope:"="},link:function(a){for(var c=[],l=0;l<arguments.length;++l)c[l-0]=arguments[l];e.apply(null,c.concat(b))}}}])})(angularDfp);
(function(c){function e(b,a,c,e){e=e[1]||e[0];console.assert(e);b.width&&b.height?e.addSize([b.width,b.height]):e.addSize(a[0].innerHTML)}c.directive("dfpSize",[function(){return{restrict:"E",require:["?^^dfpAd","?^^dfpResponsive"],scope:{width:"=",height:"="},link:e}}])})(angularDfp);
(function(c){function e(){var a=this.value?[this.value]:[];this.isValid=function(){return"key"in this&&0!==a.length?!0:!1};this.getState=function(){console.assert(this.isValid());return Object.freeze({key:this.key,values:a})};this.addValue=function(b){a.push(b)}}function b(a,b,c,e){console.assert(void 0!==e);a=a.controller.getState();e.addTargeting(a)}c.directive("dfpTargeting",[function(){return{restrict:"E",require:"^^dfpAd",controller:e,controllerAs:"controller",bindToController:!0,scope:{key:"@",
value:"@"},link:b}}])})(angularDfp);(function(c){function e(b,a,c,e){e.addValue(a.html())}c.directive("dfpValue",[function(){return{restrict:"E",require:"^^dfpTargeting",link:e}}])})(angularDfp);var angularDfpVideo=angular.module("angularDfp");
(function(c){function e(b,a,c,e){c=e.get("dfpIDGenerator");a=a[0];console.assert("VIDEO"===a.tagName);c(a,!0);c=videojs(a.id);c.ima({id:a.id,adTagUrl:b.adTag});c.ima.requestAds();c.ima.initializeAdDisplayContainer()}c.directive("dfpVideo",["$injector",function(b){return{restrict:"A",scope:{adTag:"@"},link:function(a){for(var c=[],l=0;l<arguments.length;++l)c[l-0]=arguments[l];e.apply(null,c.concat(b))}}}]);return c})(angularDfpVideo);googletag=googletag||{};googletag.cmd=googletag.cmd||[];
(function(c){var e=function(b){Error.apply(this,arguments)};$jscomp.inherits(e,Error);e.captureStackTrace=Error.captureStackTrace;c.constant("GPT_LIBRARY_URL","//www.googletagservices.com/tag/js/gpt.js");c.provider("dfp",["GPT_LIBRARY_URL",function(b){var a=this;a.enableSingleRequestArchitecture=!0;a.enableVideoAds=!0;a.collapseIfEmpty=!0;a.disableInitialLoad=!0;a.enableSyncRendering=!1;a.centering=!1;a.location=null;a.ppid=null;a.globalTargeting=null;a.forceSafeFrame=!1;a.safeFrameConfig=null;a.loadGPT=
!0;var c=!1;this.$get=["scriptInjector",function(l){function k(){var b=googletag.pubads();a.enableSingleRequestArchitecture&&b.enableSingleRequest();a.enableVideoAds&&b.enableVideoAds();a.collapseIfEmpty&&b.collapseEmptyDivs();a.disableInitialLoad&&b.disableInitialLoad();a.enableSyncRendering&&b.enableSyncRendering();b.setForceSafeFrame(a.forceSafeFrame);b.setCentering(a.centering);if(a.location)if("string"===typeof a.location)b.setLocation(a.location);else{if(!Array.isArray(a.location))throw new e("Location must be an array or string");
b.setLocation.apply(b,a.location)}if(a.ppid){if("string"!==typeof a.ppid)throw new e("PPID must be a string");b.setPublisherProvidedId(a.ppid)}if(a.globalTargeting){if("object"!==typeof a.globalTargeting)throw new e("Targeting must be an object");for(var c in a.globalTargeting)a.globalTargeting.hasOwnProperty(c)&&b.setTargeting(c,a.globalTargeting[c])}if(a.safeFrameConfig){if("object"!==typeof a.globalTargeting)throw new e("Targeting must be an object");b.setSafeFrameConfig(a.safeFrameConfig)}googletag.enableServices()}
function d(){googletag.cmd.push(k);a.loadGPT&&l(b).then(function(){c=!0})}d.hasLoaded=function(){return c};d.then=function(a){googletag.cmd.push(a)};return d}]}])})(angularDfp);
